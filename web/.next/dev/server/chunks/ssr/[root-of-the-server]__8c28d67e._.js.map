{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/babi/Developer/projet-final-web-service-babisous/web/lib/api/client.js"],"sourcesContent":["/**\n * API Client\n * Gère toutes les requêtes HTTP vers le backend\n */\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000/api\";\n\nclass ApiClient {\n  constructor(baseURL) {\n    this.baseURL = baseURL;\n  }\n\n  /**\n   * Récupère le token d'authentification du localStorage\n   */\n  getAuthToken() {\n    if (typeof window === \"undefined\") return null;\n    return localStorage.getItem(\"auth_token\");\n  }\n\n  /**\n   * Sauvegarde le token d'authentification dans le localStorage\n   */\n  setAuthToken(token) {\n    if (typeof window === \"undefined\") return;\n    localStorage.setItem(\"auth_token\", token);\n  }\n\n  /**\n   * Supprime le token d'authentification du localStorage\n   */\n  clearAuthToken() {\n    if (typeof window === \"undefined\") return;\n    localStorage.removeItem(\"auth_token\");\n  }\n\n  /**\n   * Construit les headers pour les requêtes\n   */\n  getHeaders(authenticated = false) {\n    const headers = {\n      \"Content-Type\": \"application/json\",\n    };\n\n    if (authenticated) {\n      const token = this.getAuthToken();\n      if (token) {\n        headers.Authorization = `Bearer ${token}`;\n      }\n    }\n\n    return headers;\n  }\n\n  /**\n   * Gère les erreurs des réponses HTTP\n   */\n  async handleResponse(response) {\n    const data = await response.json();\n\n    if (!response.ok) {\n      const error = new Error(data.error || \"Une erreur est survenue\");\n      error.status = response.status;\n      error.data = data;\n      throw error;\n    }\n\n    return data;\n  }\n\n  /**\n   * Requête GET\n   */\n  async get(endpoint, authenticated = false) {\n    const response = await fetch(`${this.baseURL}${endpoint}`, {\n      method: \"GET\",\n      headers: this.getHeaders(authenticated),\n    });\n\n    return this.handleResponse(response);\n  }\n\n  /**\n   * Requête POST\n   */\n  async post(endpoint, body, authenticated = false) {\n    const response = await fetch(`${this.baseURL}${endpoint}`, {\n      method: \"POST\",\n      headers: this.getHeaders(authenticated),\n      body: JSON.stringify(body),\n    });\n\n    return this.handleResponse(response);\n  }\n\n  /**\n   * Requête PUT\n   */\n  async put(endpoint, body, authenticated = false) {\n    const response = await fetch(`${this.baseURL}${endpoint}`, {\n      method: \"PUT\",\n      headers: this.getHeaders(authenticated),\n      body: JSON.stringify(body),\n    });\n\n    return this.handleResponse(response);\n  }\n\n  /**\n   * Requête DELETE\n   */\n  async delete(endpoint, authenticated = false) {\n    const response = await fetch(`${this.baseURL}${endpoint}`, {\n      method: \"DELETE\",\n      headers: this.getHeaders(authenticated),\n    });\n\n    return this.handleResponse(response);\n  }\n}\n\n// Export d'une instance unique (Singleton)\nconst apiClient = new ApiClient(API_URL);\n\nexport default apiClient;\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAED,MAAM,UAAU,iEAAmC;AAEnD,MAAM;IACJ,YAAY,OAAO,CAAE;QACnB,IAAI,CAAC,OAAO,GAAG;IACjB;IAEA;;GAEC,GACD,eAAe;QACb,wCAAmC,OAAO;;;IAE5C;IAEA;;GAEC,GACD,aAAa,KAAK,EAAE;QAClB,wCAAmC;;;IAErC;IAEA;;GAEC,GACD,iBAAiB;QACf,wCAAmC;;;IAErC;IAEA;;GAEC,GACD,WAAW,gBAAgB,KAAK,EAAE;QAChC,MAAM,UAAU;YACd,gBAAgB;QAClB;QAEA,IAAI,eAAe;YACjB,MAAM,QAAQ,IAAI,CAAC,YAAY;YAC/B,IAAI,OAAO;gBACT,QAAQ,aAAa,GAAG,CAAC,OAAO,EAAE,OAAO;YAC3C;QACF;QAEA,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,eAAe,QAAQ,EAAE;QAC7B,MAAM,OAAO,MAAM,SAAS,IAAI;QAEhC,IAAI,CAAC,SAAS,EAAE,EAAE;YAChB,MAAM,QAAQ,IAAI,MAAM,KAAK,KAAK,IAAI;YACtC,MAAM,MAAM,GAAG,SAAS,MAAM;YAC9B,MAAM,IAAI,GAAG;YACb,MAAM;QACR;QAEA,OAAO;IACT;IAEA;;GAEC,GACD,MAAM,IAAI,QAAQ,EAAE,gBAAgB,KAAK,EAAE;QACzC,MAAM,WAAW,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,UAAU,EAAE;YACzD,QAAQ;YACR,SAAS,IAAI,CAAC,UAAU,CAAC;QAC3B;QAEA,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B;IAEA;;GAEC,GACD,MAAM,KAAK,QAAQ,EAAE,IAAI,EAAE,gBAAgB,KAAK,EAAE;QAChD,MAAM,WAAW,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,UAAU,EAAE;YACzD,QAAQ;YACR,SAAS,IAAI,CAAC,UAAU,CAAC;YACzB,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B;IAEA;;GAEC,GACD,MAAM,IAAI,QAAQ,EAAE,IAAI,EAAE,gBAAgB,KAAK,EAAE;QAC/C,MAAM,WAAW,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,UAAU,EAAE;YACzD,QAAQ;YACR,SAAS,IAAI,CAAC,UAAU,CAAC;YACzB,MAAM,KAAK,SAAS,CAAC;QACvB;QAEA,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B;IAEA;;GAEC,GACD,MAAM,OAAO,QAAQ,EAAE,gBAAgB,KAAK,EAAE;QAC5C,MAAM,WAAW,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,UAAU,EAAE;YACzD,QAAQ;YACR,SAAS,IAAI,CAAC,UAAU,CAAC;QAC3B;QAEA,OAAO,IAAI,CAAC,cAAc,CAAC;IAC7B;AACF;AAEA,2CAA2C;AAC3C,MAAM,YAAY,IAAI,UAAU;uCAEjB"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":["file:///Users/babi/Developer/projet-final-web-service-babisous/web/lib/services/authService.js"],"sourcesContent":["/**\n * Service d'Authentification\n * Gère toutes les opérations d'authentification\n */\n\nimport apiClient from \"../api/client\";\n\nclass AuthService {\n  /**\n   * Inscription d'un nouvel utilisateur\n   */\n  async register(email, password, name) {\n    const response = await apiClient.post(\"/auth/register\", {\n      email,\n      password,\n      name,\n    });\n\n    if (response.success && response.data.token) {\n      apiClient.setAuthToken(response.data.token);\n    }\n\n    return response.data;\n  }\n\n  /**\n   * Connexion d'un utilisateur\n   */\n  async login(email, password) {\n    const response = await apiClient.post(\"/auth/login\", {\n      email,\n      password,\n    });\n\n    if (response.success && response.data.token) {\n      apiClient.setAuthToken(response.data.token);\n    }\n\n    return response.data;\n  }\n\n  /**\n   * Déconnexion d'un utilisateur\n   */\n  logout() {\n    apiClient.clearAuthToken();\n  }\n\n  /**\n   * Récupère l'utilisateur connecté\n   */\n  async getCurrentUser() {\n    try {\n      const response = await apiClient.get(\"/auth/me\", true);\n      return response.data;\n    } catch (error) {\n      // Si le token est invalide, on déconnecte l'utilisateur\n      if (error.status === 401) {\n        this.logout();\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * Vérifie si l'utilisateur est authentifié\n   */\n  isAuthenticated() {\n    return !!apiClient.getAuthToken();\n  }\n\n  /**\n   * Récupère le token d'authentification\n   */\n  getToken() {\n    return apiClient.getAuthToken();\n  }\n}\n\n// Export d'une instance unique (Singleton)\nconst authService = new AuthService();\n\nexport default authService;\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAED;;AAEA,MAAM;IACJ;;GAEC,GACD,MAAM,SAAS,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE;QACpC,MAAM,WAAW,MAAM,oMAAS,CAAC,IAAI,CAAC,kBAAkB;YACtD;YACA;YACA;QACF;QAEA,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,CAAC,KAAK,EAAE;YAC3C,oMAAS,CAAC,YAAY,CAAC,SAAS,IAAI,CAAC,KAAK;QAC5C;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA;;GAEC,GACD,MAAM,MAAM,KAAK,EAAE,QAAQ,EAAE;QAC3B,MAAM,WAAW,MAAM,oMAAS,CAAC,IAAI,CAAC,eAAe;YACnD;YACA;QACF;QAEA,IAAI,SAAS,OAAO,IAAI,SAAS,IAAI,CAAC,KAAK,EAAE;YAC3C,oMAAS,CAAC,YAAY,CAAC,SAAS,IAAI,CAAC,KAAK;QAC5C;QAEA,OAAO,SAAS,IAAI;IACtB;IAEA;;GAEC,GACD,SAAS;QACP,oMAAS,CAAC,cAAc;IAC1B;IAEA;;GAEC,GACD,MAAM,iBAAiB;QACrB,IAAI;YACF,MAAM,WAAW,MAAM,oMAAS,CAAC,GAAG,CAAC,YAAY;YACjD,OAAO,SAAS,IAAI;QACtB,EAAE,OAAO,OAAO;YACd,wDAAwD;YACxD,IAAI,MAAM,MAAM,KAAK,KAAK;gBACxB,IAAI,CAAC,MAAM;YACb;YACA,MAAM;QACR;IACF;IAEA;;GAEC,GACD,kBAAkB;QAChB,OAAO,CAAC,CAAC,oMAAS,CAAC,YAAY;IACjC;IAEA;;GAEC,GACD,WAAW;QACT,OAAO,oMAAS,CAAC,YAAY;IAC/B;AACF;AAEA,2CAA2C;AAC3C,MAAM,cAAc,IAAI;uCAET"}},
    {"offset": {"line": 187, "column": 0}, "map": {"version":3,"sources":["file:///Users/babi/Developer/projet-final-web-service-babisous/web/context/AuthContext.js"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useState, useEffect } from \"react\";\nimport authService from \"@/lib/services/authService\";\n\nconst AuthContext = createContext();\n\nexport function AuthProvider({ children }) {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    loadUser();\n  }, []);\n\n  const loadUser = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      if (authService.isAuthenticated()) {\n        const userData = await authService.getCurrentUser();\n        setUser(userData);\n      }\n    } catch (err) {\n      console.error(\"Erreur lors du chargement de l'utilisateur:\", err);\n      setError(err.message);\n      setUser(null);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const login = async (email, password) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const data = await authService.login(email, password);\n      setUser(data.user);\n\n      return data;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const register = async (email, password, name) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const data = await authService.register(email, password, name);\n      setUser(data.user);\n\n      return data;\n    } catch (err) {\n      setError(err.message);\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const logout = () => {\n    authService.logout();\n    setUser(null);\n    setError(null);\n  };\n\n  const value = {\n    user,\n    loading,\n    error,\n    login,\n    register,\n    logout,\n    isAuthenticated: !!user,\n  };\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n}\n\nexport function useAuth() {\n  const context = useContext(AuthContext);\n\n  if (!context) {\n    throw new Error(\"useAuth doit être utilisé dans un AuthProvider\");\n  }\n\n  return context;\n}\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AAHA;;;;AAKA,MAAM,4BAAc,IAAA,2RAAa;AAE1B,SAAS,aAAa,EAAE,QAAQ,EAAE;IACvC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,sRAAQ,EAAC;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,sRAAQ,EAAC;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,sRAAQ,EAAC;IAEnC,IAAA,uRAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,MAAM,WAAW;QACf,IAAI;YACF,WAAW;YACX,SAAS;YAET,IAAI,8MAAW,CAAC,eAAe,IAAI;gBACjC,MAAM,WAAW,MAAM,8MAAW,CAAC,cAAc;gBACjD,QAAQ;YACV;QACF,EAAE,OAAO,KAAK;YACZ,QAAQ,KAAK,CAAC,+CAA+C;YAC7D,SAAS,IAAI,OAAO;YACpB,QAAQ;QACV,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,QAAQ,OAAO,OAAO;QAC1B,IAAI;YACF,WAAW;YACX,SAAS;YAET,MAAM,OAAO,MAAM,8MAAW,CAAC,KAAK,CAAC,OAAO;YAC5C,QAAQ,KAAK,IAAI;YAEjB,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;YACpB,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,WAAW,OAAO,OAAO,UAAU;QACvC,IAAI;YACF,WAAW;YACX,SAAS;YAET,MAAM,OAAO,MAAM,8MAAW,CAAC,QAAQ,CAAC,OAAO,UAAU;YACzD,QAAQ,KAAK,IAAI;YAEjB,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,SAAS,IAAI,OAAO;YACpB,MAAM;QACR,SAAU;YACR,WAAW;QACb;IACF;IAEA,MAAM,SAAS;QACb,8MAAW,CAAC,MAAM;QAClB,QAAQ;QACR,SAAS;IACX;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;QACA,iBAAiB,CAAC,CAAC;IACrB;IAEA,qBAAO,mTAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;AAEO,SAAS;IACd,MAAM,UAAU,IAAA,wRAAU,EAAC;IAE3B,IAAI,CAAC,SAAS;QACZ,MAAM,IAAI,MAAM;IAClB;IAEA,OAAO;AACT"}},
    {"offset": {"line": 286, "column": 0}, "map": {"version":3,"sources":["file:///Users/babi/Developer/projet-final-web-service-babisous/web/node_modules/next/src/server/route-modules/app-page/module.compiled.js"],"sourcesContent":["if (process.env.NEXT_RUNTIME === 'edge') {\n  module.exports = require('next/dist/server/route-modules/app-page/module.js')\n} else {\n  if (process.env.__NEXT_EXPERIMENTAL_REACT) {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo-experimental.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page-experimental.runtime.prod.js')\n      }\n    }\n  } else {\n    if (process.env.NODE_ENV === 'development') {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.dev.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.dev.js')\n      }\n    } else {\n      if (process.env.TURBOPACK) {\n        module.exports = require('next/dist/compiled/next-server/app-page-turbo.runtime.prod.js')\n      } else {\n        module.exports = require('next/dist/compiled/next-server/app-page.runtime.prod.js')\n      }\n    }\n  }\n}\n"],"names":["process","env","NEXT_RUNTIME","module","exports","require","__NEXT_EXPERIMENTAL_REACT","NODE_ENV","TURBOPACK"],"mappings":"AAAA,IAAIA,QAAQC,GAAG,CAACC,YAAY,KAAK,QAAQ;;KAElC;IACL,IAAIF,QAAQC,GAAG,CAACK,yBAAyB,EAAE;;SAcpC;QACL,IAAIN,QAAQC,GAAG,CAACM,QAAQ,KAAK,WAAe;YAC1C,IAAIP,QAAQC,GAAG,CAACO,SAAS,eAAE;gBACzBL,OAAOC,OAAO,GAAGC,QAAQ;YAC3B,OAAO;;QAGT,OAAO;;IAOT;AACF","ignoreList":[0]}},
    {"offset": {"line": 305, "column": 0}, "map": {"version":3,"sources":["file:///Users/babi/Developer/projet-final-web-service-babisous/web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4KACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0]}},
    {"offset": {"line": 310, "column": 0}, "map": {"version":3,"sources":["file:///Users/babi/Developer/projet-final-web-service-babisous/web/node_modules/next/src/server/route-modules/app-page/vendored/ssr/react.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-ssr']!.React\n"],"names":["module","exports","require","vendored","React"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4KACRC,QAAQ,CAAC,YAAY,CAAEC,KAAK","ignoreList":[0]}}]
}